{% extends 'base_playlists.html' %}
{% load static %}

{% block content %}
    <div class="edit-playlist-wrapper">
        <h1>Edit Playlist</h1>

        <div class="go-back-div">
            <a href="{% url 'private' %}">Go Back</a>
        </div>

        <div class="error-message">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>

        <form method="POST" action="">
            {% csrf_token %}
            <div class="form-label-and-field">
                {{ form.name.label }}
                {{ form.name }}
            </div>
            <div class="form-label-and-field">
                {{ form.description.label }}
                {{ form.description }}
            </div>
            <div>
                <input type="submit" value="Save Changes" class="submit-button">
            </div>
        </form>

        <div class="all-techniques-div">
            {% for technique in playlist %}
            <div class="one-technique">
                <div class="technique-left">
                    <div class="one-video-player">
                        {% if technique.video_option == 'full' %}
                        <iframe width="400" height="280" src="{{ technique.embed_url }}" frameborder="0" allowfullscreen></iframe>
                        {% endif %}
                        {% if technique.video_option == 'cropped' %}
                        <video width="400" height="280" controls>
                            <source src="../../{{ technique.cropped_video }}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        {% endif %}
                    </div>
                </div>

                <div class="technique-right">
                    <div class="technique-title">
                        <a href="{% url 'edit' technique.id %}">{{ technique.name|title }}</a>
                    </div>
                    <div class="one-note">
                        {% if technique.note == None %}
                            <p>No note yet...</p>
                        {% else %}
                            <p>{{ technique.note }}</p>
                        {% endif %}
                    </div>
                    <div class="remove-from-playlist">
                        <a href="{% url 'extract' technique.id playlist %}"><img src="{% static 'images/remove-icon3.png' %}" class="delete-icon"></a>
                    </div>
                </div>
                
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}